<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Protoshop</title>
    <link rel="stylesheet" href="./css/common.css" />
  </head>

  <body>

    <header><div id="top-bar-inner"></div></header>

    <div id="canvas_wrapper">
      <div id="canvas"></div>
      <div id="canvas_copy">
        <div id="grid-overlay" class="overlay"></div>
        <div id="selection"></div>
        <div id="snapx"></div>
        <div id="snapy"></div>
      </div>
    </div>


    <div id="keyboard-help" class="modal-overlay">
      <div class="inner-modal">
        <span id="helphelp">Press <strong>?</strong> to hide / show help</span>
        <h2>Keyboard Shortcuts</h2>
        <hr />
        <div id="keyboard-placer"></div>
      </div>
    </div>

    <script type="text/html" id="background-toolbar-tpl">
      <div id="picker-placeholder"></div>
    </script>

    <script type="text/html" id="picker-tpl">

      <div class="dropdown toolbar-icon picker" id="{{pickerId}}">

        <div class="picker-preview" style="background: {{background}}"></div>

        <div class="inner triangle-isosceles top tabs">

          <textarea class="picker-value">{{background}}</textarea>

          <table style="width:100%" cellspacing="0"><tr>
              <td><a class="tab-link" data-target="colour-placeholder">Solid Colour</a></td>
              <td><a class="tab-link" data-target="gradient-placeholder">Gradient</a></td>
              <td><a class="tab-link" data-target="image-placeholder">Image</a></td>
          </tr></table>

          <div class="colour-placeholder page">
            <div class="picker-placeholder"></div>
          </div>

          <div class="gradient-placeholder page">
            <div class="gradient">
              <div class="gradient-value"></div>
              <div class="gradient-dom" style=""></div>
            </div>
          </div>

          <div class="image-placeholder page">
            <p>
              url <input type="text" id="img-url" style="width: 200px;"
                         value="{{backgroundUrl}}" />
            </p>
            <p>
              color <input type="color" class="color" id="img-color"
                           value="{{backgroundColor}}" style="background:{{backgroundColor}}" />
            </p>
            <p>
              <div>top <input type="text" size="6" id="img-top"
                              value="{{backgroundPosY}}" />
              <a>center</a> <a>top</a> <a>bottom</a></div>
              <div>left <input type="text" size="6" id="img-left"
                               value="{{backgroundPosX}}" />
              <a>center</a> <a>left</a> <a>right</a></div>
            </p>

            <label for="repeat-x">repeat-x</label>
            <input type="checkbox" id="repeat-x" {{checkbox backgroundRepeatX}} />
            <label for="repeat-y">repeat-y</label>
            <input type="checkbox" id="repeat-y" {{checkbox backgroundRepeatY}} />

            <input type="button" style="float:right" value="Save" />
          </div>

          <br style="clear:both" />
          <h3>Used Colours</h3>
          <div id="used-colours" class="overflow"></div>

        </div>
      </div>
    </script>

    <script type="text/html" id="textandblock-toolbar-tpl">

      <div class="section" id="textandblock">

        <div id="bg-picker-placeholder" data-background="{{backgroundColor}}"></div>

        <div class="dropdown toolbar-icon picker" id="border-picker">
          <div class="picker-preview"></div>
          <div class="inner triangle-isosceles top">
            <input class="picker-value" value="{{borderColor}}" data-css="border-color" />
            <div class="picker-placeholder"></div>
          </div>
        </div>


        <input type="number" id="border-width" data-css="border-width"
               value="{{borderWidth}}" class="toolbar-label-icon" min="0" />

        <input type="number" id="border-radius" data-css="border-radius"
               value="{{borderRadius}}" class="toolbar-label-icon" min="0" />

        <input type="number" id="opacity" data-css="opacity" value="{{opacity}}"
               class="toolbar-label-icon" min="0" max="1" step="0.05" />

        <a id="lock" title="Lock" class="toolbar-icon"></a>

        <div class="dropdown toolbar-icon" id="shadow">
          <table class="inner triangle-isosceles top">
            <tr>
              <td>blur:</td>
              <td><input id="shadow-size" type="range" value="{{shadow.size}}" /></td>
            </tr>
            <tr>
              <td>distance:</td>
              <td><input id="shadow-distance" type="range" value="{{shadow.distance}}" /></td>
            </tr>
            <tr>
              <td>angle:</td>
              <td><input type="angle" id="shadow-angle" /></td>
            </tr>
            <tr>
              <td>colour:</td>
              <td><input id="shadow-color" type="text" class="color"
                         style="background:{{shadow.colour}}"
                         value="{{shadow.colour}}" /></td>
            </tr>
          </table>
        </div>
        <a id="send-to-back" title="Send to Back" class="toolbar-icon"></a>
        <a id="bring-to-front" title="Bring to Front" class="toolbar-icon"></a>
      </div>
    </script>

    <script type="text/html" id="global-toolbar-tpl">
      <div class="section" id="global">
        <a id="toggle-grid" class="toolbar-icon {{#isOverlay}}active{{/isOverlay}}"
           title="Toggle Grid Overlay"></a>
      </div>
    </script>

    <script type="text/html" id="img-toolbar-tpl">
      <div class="section" id="img">
        <form id="set-image-src">
          <input type="text" placeholder="Image Source" id="image-src"
                 value="{{backgroundImage}}" />
          <input type="submit" value="Update" />
        </form>
      </div>
    </script>

    <script type="text/html" id="button-toolbar-tpl">
      <div class="section" id="button">
        <form id="set-button-text">
          <input type="text" id="button-text" value="{{buttonText}}" />
          <input type="submit" value="Update" />
        </form>
      </div>
    </script>


    <script type="text/html" id="select-toolbar-tpl">
      <div class="section" id="select">
        <form id="set-select-text">
          <input type="text" id="select-text" value="{{selectText}}" />
          <input type="submit" value="Update" />
        </form>
      </div>
    </script>


    <script type="text/html" id="text-toolbar-tpl">
      <div class="section" id="text">

        <div class="dropdown toolbar-icon picker" id="fg-picker">
          <div class="picker-preview"></div>
          <div class="inner triangle-isosceles top">
            <input class="picker-value" value="{{color}}" data-css="color" />
            <div class="picker-placeholder"></div>
          </div>
        </div>


        <select id="font-family" class="toolbar-select">
          <option {{#family-helvetica}}selected="selected"{{/family-helvetica}}
                  value="helvetica">Helvetica</option>
          <option {{#family-tnr}}selected="selected"{{/family-tnr}}
                  value="tnr">Times New Roman</option>
          <option {{#family-georgia}}selected="selected"{{/family-georgia}}
                  value="georgia">Georgia</option>
          <option {{#family-garamond}}selected="selected"{{/family-garamond}}
                  value="garamond">Garamond</option>
          <option {{#family-verdana}}selected="selected"{{/family-verdana}}
                  value="verdana">Verdana</option>
          <option {{#family-trebuchet}}selected="selected"{{/family-trebuchet}}
                  value="trebuchet">Trebuchet</option>
          <option {{#family-impact}}selected="selected"{{/family-impact}}
                  value="impact">Impact</option>
          <option {{#family-monospace}}selected="selected"{{/family-monospace}}
                  value="monospace">Monospace</option>
        </select>

        <input type="number" id="font-size" data-css="font-size" value="{{fontSize}}"
               class="toolbar-label-icon" min="0" max="400" />

        <input type="number" id="line-height" data-css="line-height"
               value="{{lineHeight}}" class="toolbar-label-icon" max="200" />

        <input type="number" id="letter-spacing" data-css="letter-spacing"
               value="{{letterSpacing}}" class="toolbar-label-icon"
               max="10" min="-10" />

        <a id="bold" title="Bold"
           class="toolbar-icon {{#isBold}}active{{/isBold}}"></a>
        <a id="italic" title="Italic"
           class="toolbar-icon {{#isItalic}}active{{/isItalic}}"></a>
        <a id="underline" title="Underline"
           class="toolbar-icon {{#isUnderline}}active{{/isUnderline}}"></a>
        <a id="align-left" title="Align Left"
           class="toolbar-icon align {{#align-left}}active{{/align-left}}"></a>
        <a id="align-center" title="Align Center"
           class="toolbar-icon align {{#align-center}}active{{/align-center}}"></a>
        <a id="align-right" title="Align Right"
           class="toolbar-icon align {{#align-right}}active{{/align-right}}"></a>
        <a id="align-justify" title="Justify"
           class="toolbar-icon align {{#align-justify}}active{{/align-justify}}"></a>

        <div class="dropdown toolbar-icon" id="text-shadow">
          <table class="inner triangle-isosceles top">
            <tr>
              <td>blur:</td>
              <td><input id="text-shadow-size" type="range" value="{{shadow.size}}" /></td>
            </tr>
            <tr>
              <td>distance:</td>
              <td><input id="text-shadow-distance" type="range" value="{{shadow.distance}}" /></td>
            </tr>
            <tr>
              <td>angle:</td>
              <td><input type="angle" id="text-shadow-angle" value="{{shadow.angle}}" /></td>
            </tr>
            <tr>
              <td>colour:</td>
              <td><input id="text-shadow-color" type="text" class="color"
                         style="background:{{shadow.colour}}"
                         value="{{shadow.colour}}" /></td>
            </tr>
          </table>
        </div>
      </div>
    </script>

    <script type="text/html" id="shortcut-section-tpl">
      <div class="shortcut-section">
        <h3>{{description}}</h3>
        {{#shortcuts}}
        <dl>
          <dt>{{key}}</dt>
          <dd>{{description}}</dd>
        </dl>
        {{/shortcuts}}
      </div>
    </script>

  </body>

  <script src="./js/libs/jquery-1.7.1.min.js"></script>
  <script src="./js/libs/handlebars-1.0.0.beta.4.js"></script>
  <script src="./js/libs/underscore-min.js"></script>
  <script src="./js/libs/jquery.hotkeys.js"></script>

  <script src="./js/libs/jscolour/jscolour.js"></script>
  <script src="./js/libs/jscolour/jscolour.gradient.js"></script>
  <script src="./js/libs/jscolour/jscolour.angle.js"></script>

  <script src="./js/libs/trail/trail.js"></script>

  <script src="./js/protoshop.utils.js"></script>
  <script src="./js/protoshop.handlebars.helpers.js"></script>
  <script src="./js/protoshop.js"></script>
  <script src="./js/protoshop.shortcuts.js"></script>
  <script src="./js/protoshop.elements.js"></script>
  <script src="./js/protoshop.toolbar.js"></script>

  <script>
    window.protoshop = new Protoshop();
    var toolbar = new Protoshop.Toolbar(protoshop);
  </script>

</html>
